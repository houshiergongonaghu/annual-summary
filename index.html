<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´åº¦æ€»ç»“å¯¹è¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f0f2f5;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
        }

        .chat-container {
            max-width: 800px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: white;
        }

        .chat-header {
            padding: 15px;
            background: #075e54;
            color: white;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #e5ddd5;
        }

        .message {
            margin-bottom: 15px;
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            position: relative;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .ai-message {
            background: white;
            margin-right: auto;
            border-radius: 0 15px 15px 15px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .user-message {
            background: #dcf8c6;
            margin-left: auto;
            border-radius: 15px 0 15px 15px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .chat-input {
            padding: 15px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            gap: 10px;
            border-top: 1px solid #ddd;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 16px;
        }

        .chat-input button {
            background: #075e54;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s;
        }

        .chat-input button:hover {
            background: #128c7e;
        }

        .message pre {
            white-space: pre-wrap;
            font-family: inherit;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h2>å¹´åº¦æ€»ç»“åŠ©æ‰‹ - èƒ–è™</h2>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message ai-message">
                ä½ å¥½ï¼Œæˆ‘æ˜¯å¹´åº¦æ€»ç»“åˆ†æå¸ˆèƒ–è™ï¼ğŸ‘‹
                <br><br>
                è¯·ä½ ä»ä»¥ä¸‹æ–¹å‘ä¸­é€‰æ‹©æƒ³è¦æ€»ç»“çš„å†…å®¹ï¼š
                <br><br>
                1. ä¸ªäººæˆé•¿
                2. æœªæ¥å‘å±•
                3. æƒ…æ„Ÿç”Ÿæ´»
                4. èŒä¸šå‘å±•
                <br><br>
                è¯·è¾“å…¥ä½ æƒ³è¦æ¢è®¨çš„æ–¹å‘...
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="userInput" placeholder="è¾“å…¥ä½ çš„é€‰æ‹©æˆ–å›ç­”...">
            <button onclick="sendMessage()">å‘é€</button>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');
        let currentStage = 'DIRECTION_SELECTION';
        let selectedDirection = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];

        const questionsByDirection = {
            'ä¸ªäººæˆé•¿': [
                'ä»Šå¹´ä½ å­¦åˆ°äº†å“ªäº›æ–°æŠ€èƒ½æˆ–çŸ¥è¯†ï¼Ÿ',
                'ä»Šå¹´é‡åˆ°çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Œä½ æ˜¯å¦‚ä½•å…‹æœçš„ï¼Ÿ',
                'æœ‰ä»€ä¹ˆç‰¹åˆ«è®©ä½ æ„Ÿåˆ°éª„å‚²çš„äº‹æƒ…å—ï¼Ÿ'
            ],
            'æœªæ¥å‘å±•': [
                'æ˜å¹´ä½ æœ€æƒ³å®ç°çš„ä¸‰ä¸ªç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ',
                'ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œä½ å‡†å¤‡é‡‡å–å“ªäº›å…·ä½“è¡ŒåŠ¨ï¼Ÿ',
                'ä½ è®¤ä¸ºå¯èƒ½ä¼šé‡åˆ°å“ªäº›æŒ‘æˆ˜ï¼Ÿ'
            ],
            'æƒ…æ„Ÿç”Ÿæ´»': [
                'ä»Šå¹´åœ¨æƒ…æ„Ÿæ–¹é¢æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ç»å†å—ï¼Ÿ',
                'å¯¹æ„Ÿæƒ…ç”Ÿæ´»æœ‰ä»€ä¹ˆæ–°çš„è®¤çŸ¥å’Œæ„Ÿæ‚Ÿï¼Ÿ',
                'æ˜å¹´åœ¨æƒ…æ„Ÿæ–¹é¢æœ‰ä»€ä¹ˆæœŸå¾…ï¼Ÿ'
            ],
            'èŒä¸šå‘å±•': [
                'ä»Šå¹´åœ¨å·¥ä½œä¸­æœ‰ä»€ä¹ˆé‡è¦çš„æˆå°±ï¼Ÿ',
                'ä½ è§‰å¾—è‡ªå·±çš„èŒä¸šæŠ€èƒ½æœ‰å“ªäº›æå‡ï¼Ÿ',
                'å¯¹æœªæ¥çš„èŒä¸šè§„åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ'
            ]
        };

        function addMessage(content, isAI = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isAI ? 'ai-message' : 'user-message'}`;
            messageDiv.innerHTML = content;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            addMessage(message, false);
            userInput.value = '';

            if (currentStage === 'DIRECTION_SELECTION') {
                handleDirectionSelection(message);
            } else if (currentStage === 'ANSWERING_QUESTIONS') {
                handleQuestionAnswer(message);
            }
        }

        function handleDirectionSelection(direction) {
            if (questionsByDirection[direction]) {
                selectedDirection = direction;
                currentStage = 'ANSWERING_QUESTIONS';
                setTimeout(() => {
                    addMessage(`å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥èŠèŠ${direction}ã€‚`, true);
                    setTimeout(() => {
                        askQuestion();
                    }, 1000);
                }, 500);
            } else {
                setTimeout(() => {
                    addMessage('è¯·é€‰æ‹©åˆ—è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹å‘ã€‚', true);
                }, 500);
            }
        }

        function askQuestion() {
            const questions = questionsByDirection[selectedDirection];
            if (currentQuestionIndex < questions.length) {
                addMessage(questions[currentQuestionIndex], true);
            } else {
                generateSummary();
            }
        }

        function handleQuestionAnswer(answer) {
            const currentQuestion = questionsByDirection[selectedDirection][currentQuestionIndex];
            userAnswers.push({
                question: currentQuestion,
                answer: answer
            });

            currentQuestionIndex++;
            setTimeout(() => {
                if (currentQuestionIndex < questionsByDirection[selectedDirection].length) {
                    askQuestion();
                } else {
                    generateSummary();
                }
            }, 1000);
        }

        function generateSummary() {
            addMessage('è°¢è°¢ä½ çš„åˆ†äº«ï¼è®©æˆ‘ä¸ºä½ ç”Ÿæˆä¸€ä»½æ€»ç»“...', true);
            
            setTimeout(() => {
                let summary = '';
                switch(selectedDirection) {
                    case 'ä¸ªäººæˆé•¿':
                        summary = generatePersonalGrowthSummary();
                        break;
                    case 'æœªæ¥å‘å±•':
                        summary = generateFuturePlanSummary();
                        break;
                    case 'æƒ…æ„Ÿç”Ÿæ´»':
                        summary = generateEmotionalLifeSummary();
                        break;
                    case 'èŒä¸šå‘å±•':
                        summary = generateCareerSummary();
                        break;
                }
                addMessage(summary, true);
            }, 1500);
        }

        function generatePersonalGrowthSummary() {
            const skills = userAnswers[0].answer;
            const challenges = userAnswers[1].answer;
            const proud = userAnswers[2].answer;

            return `ğŸ“ 2024å¹´ä¸ªäººæˆé•¿æ€»ç»“æŠ¥å‘Š

ğŸŒŸ æŠ€èƒ½æˆé•¿
ä½ åœ¨ä»Šå¹´å­¦ä¹ äº†${skills}ï¼Œè¿™äº›æ–°æŠ€èƒ½å±•ç°äº†ä½ æŒç»­å­¦ä¹ çš„çƒ­æƒ…ã€‚

ğŸ’ª æŒ‘æˆ˜çªç ´
é¢å¯¹${challenges}è¿™æ ·çš„æŒ‘æˆ˜ï¼Œä½ å±•ç°å‡ºäº†å¼ºå¤§çš„é€‚åº”åŠ›å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚

ğŸ† ä¸ªäººæˆå°±
ç‰¹åˆ«å€¼å¾—éª„å‚²çš„æ˜¯${proud}ï¼Œè¿™è¯æ˜äº†ä½ çš„åŠªåŠ›å¾—åˆ°äº†å›æŠ¥ã€‚

ğŸ¯ ç»¼åˆè¯„ä¼°
æ ¹æ®ä½ çš„åˆ†äº«ï¼Œ2024å¹´æ˜¯ä½ ä¸ªäººæˆé•¿çš„ä¸°æ”¶å¹´ã€‚ä½ ä¸ä»…åœ¨æŠ€èƒ½ä¸Šæœ‰æ‰€æå‡ï¼Œæ›´åœ¨é¢å¯¹æŒ‘æˆ˜æ—¶å±•ç°å‡ºäº†æˆç†Ÿçš„å¤„ç†æ–¹å¼ã€‚

ğŸ’¡ å»ºè®®å±•æœ›
å»ºè®®ä½ ï¼š
1. ç»§ç»­ä¿æŒå­¦ä¹ çš„çƒ­æƒ…ï¼Œå°†æ–°æŠ€èƒ½ä¸å®è·µç»“åˆ
2. æŠŠå…‹æœæŒ‘æˆ˜çš„ç»éªŒæ€»ç»“ä¸ºç»éªŒï¼Œç”¨äºæœªæ¥å‘å±•
3. è®¾å®šæ–°çš„ç›®æ ‡ï¼Œè®©æˆé•¿æŒç»­å‘ç”Ÿ

ä½ çš„2024å¹´æ˜¯å……æ»¡æ”¶è·çš„ä¸€å¹´ï¼Œç›¸ä¿¡è¿™äº›ç»å†å°†æˆä¸ºä½ æœªæ¥å‘å±•çš„é‡è¦åŸºçŸ³ï¼`;
        }

        function generateFuturePlanSummary() {
            const goals = userAnswers[0].answer;
            const actions = userAnswers[1].answer;
            const challenges = userAnswers[2].answer;

            return `ğŸ“ æœªæ¥å‘å±•è§„åˆ’åˆ†ææŠ¥å‘Š

ğŸ¯ ç›®æ ‡æ„¿æ™¯
ä½ æå‡ºçš„ä¸»è¦ç›®æ ‡æ˜¯${goals}ï¼Œè¿™äº›ç›®æ ‡å±•ç°äº†ä½ å¯¹æœªæ¥çš„æ¸…æ™°è§„åˆ’ã€‚

âš¡ è¡ŒåŠ¨è®¡åˆ’
ä½ è®¡åˆ’é€šè¿‡${actions}æ¥å®ç°è¿™äº›ç›®æ ‡ï¼Œè¿™äº›å…·ä½“è¡ŒåŠ¨æ˜¾ç¤ºäº†ä½ çš„æ‰§è¡ŒåŠ›ã€‚

âš ï¸ æŒ‘æˆ˜é¢„æœŸ
ä½ é¢„è§åˆ°å¯èƒ½é¢ä¸´${challenges}ç­‰æŒ‘æˆ˜ï¼Œè¿™ç§é¢„åˆ¤æ˜¾ç¤ºäº†ä½ çš„æ€è€ƒæ·±åº¦ã€‚

ğŸ’« æˆ˜ç•¥å»ºè®®
1. å»ºè®®å°†å¤§ç›®æ ‡æ‹†åˆ†ä¸ºæ›´å°çš„é˜¶æ®µæ€§ç›®æ ‡
2. å®šæœŸæ£€æŸ¥è¡ŒåŠ¨è®¡åˆ’çš„æ‰§è¡Œæƒ…å†µ
3. å¯¹é¢„æœŸæŒ‘æˆ˜æå‰åšå¥½å‡†å¤‡æ–¹æ¡ˆ

ğŸŒˆ å±•æœ›å¯„è¯­
ä½ çš„è§„åˆ’æ—¢æœ‰è¿œè§åˆåŠ¡å®ï¼Œå»ºè®®ä½ ï¼š
1. ä¿æŒç§¯æè¡ŒåŠ¨çš„åŒæ—¶ä¿æŒçµæ´»æ€§
2. å®šæœŸå›é¡¾å’Œè°ƒæ•´è®¡åˆ’
3. åœ¨å‰è¿›è¿‡ç¨‹ä¸­åŠæ—¶æ€»ç»“ç»éªŒ

ç›¸ä¿¡é€šè¿‡åŠªåŠ›ï¼Œä½ ä¸€å®šèƒ½å¤Ÿå®ç°è¿™äº›ç²¾å½©çš„ç›®æ ‡ï¼`;
        }

        function generateEmotionalLifeSummary() {
            const experiences = userAnswers[0].answer;
            const insights = userAnswers[1].answer;
            const expectations = userAnswers[2].answer;

            return `ğŸ“ 2024å¹´æƒ…æ„Ÿç”Ÿæ´»å›é¡¾æŠ¥å‘Š

ğŸ’ æƒ…æ„Ÿå†ç¨‹
åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œä½ ç»å†äº†${experiences}ï¼Œè¿™äº›ç»å†è®©ä½ çš„æƒ…æ„Ÿä¸–ç•Œæ›´åŠ ä¸°å¯Œã€‚

ğŸ’­ å¿ƒå¾—æ„Ÿæ‚Ÿ
é€šè¿‡è¿™äº›ç»å†ï¼Œä½ é¢†æ‚Ÿåˆ°${insights}ï¼Œè¿™äº›è®¤çŸ¥çš„æå‡å¯¹ä½ æ¥è¯´éå¸¸å®è´µã€‚

ğŸŒˆ æœªæ¥æœŸå¾…
å¯¹æœªæ¥ï¼Œä½ æœŸå¾…${expectations}ï¼Œè¿™æ˜¾ç¤ºäº†ä½ å¯¹æ„Ÿæƒ…ç”Ÿæ´»çš„ç¾å¥½å‘å¾€ã€‚

ğŸ’« æƒ…æ„Ÿæˆé•¿åˆ†æ
1. ä½ çš„ç»å†å¸®åŠ©ä½ æ›´å¥½åœ°è®¤è¯†è‡ªå·±
2. è¿™äº›ä½“éªŒè®©ä½ åœ¨æƒ…æ„Ÿæ–¹é¢æ›´åŠ æˆç†Ÿ
3. ä½ å¯¹æœªæ¥çš„æœŸå¾…æ—¢æ¸©æš–åˆå®é™…

ğŸŒŸ å»ºè®®ä¸å±•æœ›
å»ºè®®ä½ ï¼š
1. çæƒœç°æœ‰çš„æƒ…æ„Ÿè¿æ¥
2. ä¿æŒå¼€æ”¾å’ŒçœŸè¯šçš„å¿ƒæ€
3. åœ¨ç»´æŠ¤å…³ç³»çš„åŒæ—¶ä¸å¿˜è‡ªæˆ‘æå‡

æ„¿ä½ åœ¨æ–°çš„ä¸€å¹´é‡Œæ”¶è·æ›´å¤šç¾å¥½çš„æƒ…æ„Ÿä½“éªŒï¼`;
        }

        function generateCareerSummary() {
            const achievements = userAnswers[0].answer;
            const improvements = userAnswers[1].answer;
            const plans = userAnswers[2].answer;

            return `ğŸ“ 2024å¹´èŒä¸šå‘å±•æ€»ç»“æŠ¥å‘Š

ğŸ† å¹´åº¦æˆå°±
ä½ åœ¨å·¥ä½œä¸­å–å¾—äº†${achievements}çš„æˆå°±ï¼Œè¿™äº›éƒ½æ˜¯ä½ èŒä¸šå‘å±•çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚

ğŸ“ˆ èƒ½åŠ›æå‡
åœ¨ä¸“ä¸šæŠ€èƒ½æ–¹é¢ï¼Œä½ æå‡äº†${improvements}ï¼Œè¿™äº›è¿›æ­¥ä¸ºä½ çš„èŒä¸šå‘å±•æ‰“ä¸‹äº†åšå®åŸºç¡€ã€‚

ğŸ¯ èŒä¸šè§„åˆ’
å…³äºæœªæ¥ï¼Œä½ è®¡åˆ’${plans}ï¼Œè¿™ä¸ªè§„åˆ’å±•ç°äº†ä½ çš„èŒä¸šæŠ±è´Ÿã€‚

ğŸ’« å‘å±•åˆ†æ
1. ä½ çš„æˆå°±è¯æ˜äº†ä½ çš„ä¸“ä¸šèƒ½åŠ›
2. æŠ€èƒ½æå‡æ˜¾ç¤ºäº†ä½ çš„å­¦ä¹ çƒ­æƒ…
3. èŒä¸šè§„åˆ’å±•ç°äº†ä½ çš„è¿œè§å“è¯†

ğŸŒŸ å»ºè®®ä¸å±•æœ›
å»ºè®®ä½ ï¼š
1. ç»§ç»­ä¿æŒä¸“ä¸šèƒ½åŠ›çš„æå‡
2. æ‹“å±•èŒä¸šäººè„‰ç½‘ç»œ
3. å…³æ³¨è¡Œä¸šå‘å±•è¶‹åŠ¿
4. å¹³è¡¡èŒä¸šå‘å±•ä¸ä¸ªäººç”Ÿæ´»

ç›¸ä¿¡é€šè¿‡æŒç»­åŠªåŠ›ï¼Œä½ ä¸€å®šèƒ½å¤Ÿå®ç°æ›´å¤§çš„èŒä¸šæˆå°±ï¼`;
        }

        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>